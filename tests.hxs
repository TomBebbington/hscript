function mustEq(a, b) {
	if(a != b)
		throw '$a should be $b';
};
mustEq(0, 0);
mustEq(0, 0);
mustEq(0xFF, 255);
mustEq(switch(5 * 5) {case 25: 1; default: 50;}, 1);
mustEq(switch(5 * 5) {case 25 if(false): 1; default: 50;}, 50);
mustEq(0xBFFFFFFF, 0xBFFFFFFF);
mustEq(0x7FFFFFFF, 0x7FFFFFFF);
mustEq(-123, -123);
mustEq(- 123, -123);
mustEq(1.546, 1.546);
mustEq(.545, .545);
mustEq('bla', "bla");
mustEq(null, null);
mustEq(true, true);
mustEq(false, false);
mustEq(1 == 2, false);
mustEq(1.3 == 1.3, true);
mustEq(5 > 3, true);
mustEq(0 < 0, false);
mustEq(-1 <= -1, true);
mustEq(1 + 2, 3);
mustEq(~545, -546);
mustEq('abc' + 55, "abc55");
mustEq('abc' + 'de', "abcde");
mustEq(-1 + 2, 1);
mustEq(1 / 5, 0.2);
mustEq(3 * 2 + 5, 11);
mustEq(3 * (2 + 5), 21);
mustEq(3 * 2 // + 5 \n + 6, 12);
mustEq(3 /* 2\n */ + 5, 8);
mustEq([55,66,77][1], 66);
mustEq(var a = [55]; a[0] *= 2; a[0], 110);
mustEq(x, 55,{ x : 55 });
mustEq(var y = 33; y, 33);
mustEq({ 1; 2; 3; }, 3);
mustEq({ var x = 0; } x, 55,{ x : 55 });
mustEq(o.val, 55,{ o : { val : 55 } });
mustEq(o.val, null,{ o : {} });
mustEq(var a = 1; a++, 1);
mustEq(var a = 1; a++; a, 2);
mustEq(var a = 1; ++a, 2);
mustEq(var a = 1; a *= 3, 3);
mustEq(a = b = 3; a + b, 6);
mustEq(add(1,2), 3,{ add : function(x,y) return x + y });
mustEq(a.push(5); a.pop() + a.pop(), 8,{ a : [3] });
mustEq(if( true ) 1 else 2, 1);
mustEq(if( false ) 1 else 2, 2);
mustEq(var t = 0; for( x in [1,2,3] ) t += x; t, 6);
mustEq(var a = new Array(); for( x in 0...5 ) a[x] = x; a.join('-'), "0-1-2-3-4");
mustEq((function(a,b) return a + b)(4,5), 9);
mustEq(var y = 0; var add = function(a) y += a; add(5); add(3); y, 8);
mustEq(var a = [1,[2,[3,[4,null]]]]; var t = 0; while( a != null ) { t += a[0]; a = a[1]; }; t, 10);
mustEq(var t = 0; for( x in 1...10 ) t += x; t, 45);
mustEq(var t = 0; for( x in new IntIterator(1,10) ) t +=x; t, 45);
mustEq(var x = 1; try { var x = 66; throw 789; } catch( e : Dynamic ) e + x, 790);
mustEq(var x = 1; var f = function(x) throw x; try f(55) catch( e : Dynamic ) e + x, 56);
mustEq(var i=2; if( true ) --i; i, 1);
mustEq(var i=0; if( i++ > 0 ) i=3; i, 1);
mustEq(var a = 5/2; a, 2.5);
mustEq([for(i in 1...4) i*2].join('-'), "2-4-6");
mustEq({ x = 3; x; }, 3);
mustEq({ x : 3, y : {} }.x, 3);
mustEq(function bug(){ \n }\nbug().x, null);
mustEq(1 + 2 == 3, true);
mustEq(-2 == 3 - 5, true);
trace("Done - all tests passed successfully");